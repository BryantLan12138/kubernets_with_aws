apiVersion: apps/v1
kind: Deployment
metadata:
  name: "acme"
spec:
  selector:
    matchLabels:
      app: "acme-app"
  # replicas: "{{ .Values.replicaCount }}"
  replicas: 5
  template:
    metadata:
      labels:
        app: "acme-app"
    spec:
      containers:
      # - name: "{{ .Chart.Name }}"
      - name: acme-app
        image: 424329572650.dkr.ecr.us-east-1.amazonaws.com/app:9373e4ae814503c1507afbea5fb1e2865fab1e63
        env:
        - name: "NODE_ENV"
          value: prod
        - name: "DB_HOSTNAME"
          value: acme-db-prod.cluster-cqlvuoxw9zwh.us-east-1.rds.amazonaws.com 
        - name: "DB_USERNAME"
          value: postgres
        - name: "DB_PASSWORD"
          value: password
        - name: "DB_NAME"
          value: servian
        - name: "PORT"
          value: "80"
        imagePullPolicy: IfNotPresent
        name: "acme"
        
